<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Telegram Session Login</title>
<script>
async function runLogin() {
    const fileInput = document.getElementById("session_file");
    if (!fileInput.files.length) {
        alert("Please select a .session file");
        return;
    }

    const formData = new FormData();
    formData.append("session_file", fileInput.files[0]);

    const res = await fetch("/upload_run", { method: "POST", body: formData });
    const data = await res.json();

    const outputBox = document.getElementById("output_box");
    outputBox.innerHTML = `<pre>${data.output}</pre>`;
}
</script>
</head>
<body>
<h2>Telegram Session Login</h2>

<input type="file" id="session_file" accept=".session">
<button onclick="runLogin()">Run</button>

<h3>Output</h3>
<div id="output_box" style="border:1px solid #ccc; padding:10px; height:400px; overflow:auto;"></div>
</body>
</html>
